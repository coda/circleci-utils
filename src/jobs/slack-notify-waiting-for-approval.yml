description: |
  Notifies the current workflow owner that their workflow is pending approval to proceed.
  Depends on jq being present.

  Setup:
    1. Ensure github user has format <email-prefix>-codaio 
    2. Setup a Slack Bot account with scopes `users:read`, `users:read.email`, and `chat:write`.
    3. Configure orb based on required args
parameters:
  circle_token:
    default: ${CIRCLECI_TOKEN}
    description: |
      Env var of a token granted read access to the CircleCI api
    type: string
  vcs:
    description: |
      Defaults to "gh", but allows other version control systems.
    type: string
    default: gh
  email_domain:
    description: |
      Optional email domain for users within the workspace.   Must be specified if user aliases are not fully qualified.
    type: string
    default: coda.io
executor: default
steps:
  - slack-notify-waiting-for-approval:
      email_domain: <<parameters.email_domain>>
